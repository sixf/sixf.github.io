<blockquote><p>I thought I could easily jump to a high standard (reproducibility), but I
  failed.</p></blockquote>

<p><img src="http://i.imgur.com/niyXcfk.gif" alt="" /></p>

<p>Some of you may have noticed that the knitr book is finally out. <a href="http://www.amazon.com/gp/product/1482203537">Amazon is
offering a good price</a> at the
moment, so if you are interested, you'd better hurry up.</p>

<p>I avoided the phrase "Reproducible Research" in the book title, because I
did not want to take that responsibility, although it is related to
reproducible research in some sense. The book was written with knitr v1.3
and R 3.0.1, as you can see from my <code>sessionInfo()</code> in the preface.</p>

<p>Three months later, several things have changed, and I could not reproduce
the book, but that did not surprise me. I'll explain the details later. Here
I have extracted the first three chapters, and released the corresponding
source files in the <a href="https://github.com/yihui/knitr-book">knitr-book</a>
repository on Github. You can also find the link to download the PDF there.
This repository may be useful to those who plan to write a book using R.</p>

<p>What I could not reproduce were not really important. The major change in
the recent knitr versions was the syntax highlighting commands, e.g.
<code>\hlcomment{}</code> is <code>\hlcom{}</code> now, and the syntax highlighting has been
improved by the <a href="http://cran.r-project.org/package=highr"><strong>highr</strong></a> package
(sorry, Romain). This change brought a fair amount of changes when I look at
<code>git diff</code>, but these are only cosmetic changes.</p>

<p>I tried my best to avoid writing anything that is likely to change in the
future into the book, but as a naive programmer, I have to say sorry that I
have broken two little features, although they may not really affect you:</p>

<ul>
<li>the preferred way to stop knitr in case of errors is to set the chunk
option <code>error = FALSE</code> instead of the package option <code>stop_on_error</code>,
which has been deprecated (Section 6.2.4);</li>
<li>for external code chunks (Section 9.2), the preferred chunk delimiter is
<code>## ----</code> instead of <code>## @knitr</code> now;</li>
</ul>


<p>Actually the backward-compatibility is still there, so they will not really
break until a long time later.</p>

<p>With exactly the same software environment, I think I can reproduce the
book, but that does not make much sense. Things are always evolving. Then
there are two types of reproducible research:</p>

<ol>
<li>the "dead" reproducible research (reproduce in a very specific environment);</li>
<li>the reproducible research that evolves and generalizes;</li>
</ol>


<p>I think the latter is more valuable. Being reproducible alone is not the
goal, because you may be reproducing either real findings or simply old
mistakes. As Roger Peng
<a href="http://simplystatistics.org/2013/08/21/treading-a-new-path-for-reproducible-research-part-1/">wrote</a>,</p>

<blockquote><p>[...] reproducibility cannot really address the validity of a scientific claim
as well as replication</p></blockquote>

<p>Roger's recent three blog posts on reproducible research are very worth
reading. This blog post of mine is actually not quite relevant (no data
analysis here), so I recommend my readers to move over there after you haved
checked out the <a href="https://github.com/yihui/knitr-book">knitr-book</a> repository.</p>
