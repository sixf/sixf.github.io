<p>Stephanie asked in 511 today if we were able to get the random seed which was set by <code>set.seed()</code> but we were only given the random numbers (without knowing the seed). This kind of "hacker" questions sound interesting. One dirty solution should be the brute-force method, e.g:</p>

<div class="highlight"><pre><code class="r"><span class="c1"># x: the random vector;</span>
<span class="c1"># FUN: the function that generates random numbers with the first argument</span>
<span class="c1">#      being the length of random numbers</span>
<span class="c1"># seed: candidate seeds to be tried one by one</span>
<span class="c1"># ...: other arguments to be passed to FUN</span>
find.seed <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> FUN <span class="o">=</span> rnorm<span class="p">,</span> seed <span class="o">=</span> <span class="m">0</span><span class="o">:</span><span class="m">10000</span><span class="p">,</span> <span class="kc">...</span><span class="p">)</span> <span class="p">{</span>
  res <span class="o">=</span> <span class="kc">NULL</span>
  <span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> seed<span class="p">)</span> <span class="p">{</span>
    set.seed<span class="p">(</span>i<span class="p">)</span>
    rx <span class="o">=</span> FUN<span class="p">(</span>length<span class="p">(</span>x<span class="p">),</span> <span class="kc">...</span><span class="p">)</span>
    <span class="c1"># all() can be changed to all.equal() to obtain a rough solution</span>
    <span class="c1">#     allowing a little bit numeric errors</span>
    <span class="kr">if</span> <span class="p">(</span>all<span class="p">(</span>x <span class="o">==</span> rx<span class="p">))</span> <span class="p">{</span>
      res <span class="o">=</span> i
      <span class="kr">break</span>
    <span class="p">}</span>
  <span class="p">}</span>
  res
<span class="p">}</span>
</code></pre></div>


<p>Of course it is not a good solution, although it might work:</p>

<div class="highlight"><pre><code class="r"><span class="o">&gt;</span> set.seed<span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="o">&gt;</span> test <span class="o">=</span> rnorm<span class="p">(</span><span class="m">30</span><span class="p">)</span>
<span class="o">&gt;</span> find.seed<span class="p">(</span>test<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="o">&gt;</span> set.seed<span class="p">(</span><span class="m">1234</span><span class="p">)</span>
<span class="o">&gt;</span> test <span class="o">=</span> rnorm<span class="p">(</span><span class="m">30</span><span class="p">)</span>
<span class="o">&gt;</span> find.seed<span class="p">(</span>test<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1234</span>
<span class="o">&gt;</span> set.seed<span class="p">(</span><span class="m">987</span><span class="p">)</span>
<span class="o">&gt;</span> test <span class="o">=</span> runif<span class="p">(</span><span class="m">30</span><span class="p">,</span> min <span class="o">=</span> <span class="m">-1</span><span class="p">,</span> max <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
<span class="o">&gt;</span> find.seed<span class="p">(</span>test<span class="p">,</span> runif<span class="p">,</span> min <span class="o">=</span> <span class="m">-1</span><span class="p">,</span> max <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">987</span>
</code></pre></div>


<p>Beside the probably very long computation time, the other disadvantage is we need to know the range of the seed. This could be obtained by some "prior" information. For instance, we may guess Dr Nettleton will not set a random seed greater than one million or less than 0.</p>

<p>Usually the random seed is obtained from a certain state of the computer such as the system time. I have an old example in this post: <a href="/en/2008/05/random-number-generation-on-the-glasses/">Random Number Generation on the Glasses (A Natural RNG)</a>.</p>
