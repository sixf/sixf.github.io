<p>Today <a href="http://romainfrancois.blog.free.fr/">Romain Francois</a> posted an interesting topic in the R-help list, and you can read his blog post for more details: <a href="http://romainfrancois.blog.free.fr/index.php?post/2009/10/09/celebrating-R-commit-50000">celebrating R commit #50000</a>. 50000 is certainly not a small number; we do owe R core members a big "thank you" for their great efforts in this fantastic statistical language in the 13 years. When I saw Romain's data, I suddenly remembered a question I asked to one of Prof Ripley's student a couple of years ago: <em>does Prof Ripley ever sleep?</em> And he answered "No!". No wonder we can see Prof Ripley so frequently in the R-help/devel mailing list. If you have stayed on R-help list for enough long time, you'll surely know several facts, e.g. Martin Maechler will arrive in less than 3 minutes if you dare call an R package "library", and you will get "Ripleyed" if you are not careful enough in posting your R code.</p>

<pre><code>&gt; library(fortunes)
&gt; fortune("Ripleyed")

And the fear of getting Ripleyed on the mailing list also makes me think, read,
and improve before submitting half baked questions to the list.
 -- Eric Kort
 R-help (January 2006)
</code></pre>

<p>While these facts are revealing their great efforts in helping R users, we can see their work hours in committing revisions to R. For example, the answer to my question is clear in the graph below:</p>

<p><img src="http://i.imgur.com/1kSb7.png" alt="Does Prof Ripley Ever Sleep?" /></p>

<div class="highlight"><pre><code class="r"><span class="c1">## R code borrowed from Romain Francios</span>
process_chunk <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>txt<span class="p">)</span> <span class="p">{</span>
  <span class="kr">if</span> <span class="p">(</span>length<span class="p">(</span>txt<span class="p">)</span> <span class="o">==</span> <span class="m">1L</span><span class="p">)</span>
    <span class="kr">return</span><span class="p">(</span><span class="kc">NULL</span><span class="p">)</span>
  header_line <span class="o">&lt;-</span> strsplit<span class="p">(</span>txt<span class="p">[</span><span class="m">2L</span><span class="p">],</span> <span class="s">&quot; | &quot;</span><span class="p">,</span> fixed <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)[[</span><span class="m">1</span><span class="p">]][</span>c<span class="p">(</span><span class="m">1L</span><span class="p">,</span> <span class="m">2L</span><span class="p">,</span> <span class="m">3L</span><span class="p">)]</span>
  revision <span class="o">&lt;-</span> substring<span class="p">(</span>header_line<span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="m">2</span><span class="p">)</span>
  author <span class="o">&lt;-</span> header_line<span class="p">[</span><span class="m">2</span><span class="p">]</span>
  <span class="kr">if</span> <span class="p">(</span>author <span class="o">%in%</span> c<span class="p">(</span><span class="s">&quot;apache&quot;</span><span class="p">,</span> <span class="s">&quot;root&quot;</span><span class="p">))</span>
    <span class="kr">return</span><span class="p">(</span><span class="kc">NULL</span><span class="p">)</span>
  date <span class="o">&lt;-</span> substring<span class="p">(</span>header_line<span class="p">[</span><span class="m">3</span><span class="p">],</span> <span class="m">1</span><span class="p">,</span> <span class="m">25</span><span class="p">)</span>
  nlines <span class="o">&lt;-</span> length<span class="p">(</span>date<span class="p">)</span>
  matrix<span class="p">(</span>c<span class="p">(</span>rep.int<span class="p">(</span>revision<span class="p">,</span> nlines<span class="p">),</span> rep.int<span class="p">(</span>author<span class="p">,</span> nlines<span class="p">),</span>
           rep.int<span class="p">(</span>date<span class="p">,</span> nlines<span class="p">)),</span> nrow <span class="o">=</span> nlines<span class="p">)</span>
<span class="p">}</span>
data <span class="o">&lt;-</span> local<span class="p">({</span>
  lines <span class="o">&lt;-</span> readLines<span class="p">(</span><span class="s">&quot;rsvn.log&quot;</span><span class="p">)</span>
  index <span class="o">&lt;-</span> cumsum<span class="p">(</span>grepl<span class="p">(</span><span class="s">&quot;^-+$&quot;</span><span class="p">,</span> lines<span class="p">))</span>
  commits <span class="o">&lt;-</span> split<span class="p">(</span>lines<span class="p">,</span> index<span class="p">)</span>
  do.call<span class="p">(</span>rbind<span class="p">,</span> lapply<span class="p">(</span>commits<span class="p">,</span> process_chunk<span class="p">))</span>
<span class="p">})</span>
colnames<span class="p">(</span>data<span class="p">)</span> <span class="o">&lt;-</span> c<span class="p">(</span><span class="s">&quot;revision&quot;</span><span class="p">,</span> <span class="s">&quot;author&quot;</span><span class="p">,</span> <span class="s">&quot;date&quot;</span><span class="p">)</span>
simple <span class="o">&lt;-</span> data<span class="p">[</span><span class="o">!</span>duplicated<span class="p">(</span>data<span class="p">[,</span> <span class="s">&quot;revision&quot;</span><span class="p">]),</span> <span class="p">]</span>
hour.data <span class="o">=</span> data.frame<span class="p">(</span>author <span class="o">=</span> simple<span class="p">[,</span> <span class="s">&quot;author&quot;</span><span class="p">],</span>
                       hour <span class="o">=</span> as.integer<span class="p">(</span>substr<span class="p">(</span>simple<span class="p">[,</span> <span class="s">&quot;date&quot;</span><span class="p">],</span> <span class="m">12</span><span class="p">,</span> <span class="m">13</span><span class="p">)),</span>
                       year <span class="o">=</span> as.integer<span class="p">(</span>substr<span class="p">(</span>simple<span class="p">[,</span> <span class="s">&quot;date&quot;</span><span class="p">],</span> <span class="m">1</span><span class="p">,</span> <span class="m">4</span><span class="p">)))</span>
hour.data <span class="o">=</span> subset<span class="p">(</span>hour.data<span class="p">,</span> year <span class="o">&gt;=</span> <span class="m">1997</span> <span class="o">&amp;</span> <span class="p">(</span>author <span class="o">%in%</span>
  c<span class="p">(</span><span class="s">&quot;hornik&quot;</span><span class="p">,</span> <span class="s">&quot;maechler&quot;</span><span class="p">,</span> <span class="s">&quot;pd&quot;</span><span class="p">,</span> <span class="s">&quot;ripley&quot;</span><span class="p">)))</span>
library<span class="p">(</span>ggplot2<span class="p">)</span>
<span class="c1"># png(&quot;ripley-work-hour.png&quot;)</span>
qplot<span class="p">(</span>hour<span class="p">,</span> data <span class="o">=</span> subset<span class="p">(</span>hour.data<span class="p">,</span> author <span class="o">==</span> <span class="s">&quot;ripley&quot;</span><span class="p">),</span>
      main <span class="o">=</span> <span class="s">&quot;Does Prof Ripley Ever Sleep?&quot;</span><span class="p">)</span> <span class="o">+</span> stat_bin<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
<span class="c1"># dev.off()</span>
</code></pre></div>


<p>Here I only selected four authors who have largest number of commits during 1997~2009. We can see the changes of working hours along these years:</p>

<p><img src="http://i.imgur.com/Q2KJi.gif" alt="Working hours of four R core members" /></p>

<div class="highlight"><pre><code class="r">hour.max <span class="o">=</span> max<span class="p">(</span>with<span class="p">(</span>hour.data<span class="p">,</span> table<span class="p">(</span>author<span class="p">,</span> year<span class="p">,</span> hour<span class="p">)))</span>
library<span class="p">(</span>animation<span class="p">)</span>
<span class="c1"># you need ImageMagick to create the GIF animation!</span>
saveMovie<span class="p">({</span>
<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> sort<span class="p">(</span>unique<span class="p">(</span>hour.data<span class="o">$</span>year<span class="p">)))</span> <span class="p">{</span>
  print<span class="p">(</span>qplot<span class="p">(</span>hour<span class="p">,</span> data <span class="o">=</span> subset<span class="p">(</span>hour.data<span class="p">,</span> year <span class="o">==</span> i<span class="p">),</span> xlim <span class="o">=</span> c<span class="p">(</span><span class="m">0</span><span class="p">,</span>
    <span class="m">23</span><span class="p">),</span> ylim <span class="o">=</span> c<span class="p">(</span><span class="m">0</span><span class="p">,</span> hour.max<span class="p">),</span> main <span class="o">=</span> i<span class="p">)</span> <span class="o">+</span> facet_wrap<span class="p">(</span><span class="o">~</span>author<span class="p">)</span> <span class="o">+</span>
    stat_bin<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">1</span><span class="p">))</span>
<span class="p">}</span>
<span class="p">},</span> interval <span class="o">=</span> <span class="m">1.5</span><span class="p">,</span> moviename <span class="o">=</span> <span class="s">&quot;r-core-work-hour&quot;</span><span class="p">,</span> outdir <span class="o">=</span> getwd<span class="p">())</span>
</code></pre></div>


<p>The patterns are clear: Kurt does not like burning night oil; Martin tends to work very early in the morning (esp during 2000~2004); Peter always work at mid-night (highly centered around 12pm); and for Prof Ripley, he works round the clock but most in the morning (probably that's when he begins to ``Ripley'' users? after that time, less people dare to report bugs so his work decays exponentially?)</p>
